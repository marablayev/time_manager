!function(){function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){for(var b=0;b<t.length;b++){var o=t[b];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{"Fb9/":function(b,o,a){"use strict";a.r(o),a.d(o,"TasksModule",(function(){return F}));var n=a("ofXK"),i=a("tyNb"),c=a("fktz"),l=a("3Pt+"),r=a("fXoL"),d=a("h5qW"),s=a("KI+Z"),m=a("K3ix"),u=a("hzby"),v=a("kUHs");function f(e,t){if(1&e){var b=r.Qb();r.Pb(0,"tr"),r.Pb(1,"td"),r.Ac(2),r.Ob(),r.Pb(3,"td"),r.Ac(4),r.Ob(),r.Pb(5,"td"),r.Ac(6),r.Zb(7,"date"),r.Ob(),r.Pb(8,"td"),r.Ac(9),r.Ob(),r.Pb(10,"td",15),r.Pb(11,"div",16),r.Pb(12,"div",17),r.Pb(13,"button",18),r.Wb("click",(function(){r.qc(b);var e=t.$implicit,o=r.Yb(),a=r.nc(23);return o.openModal(a,e)})),r.Kb(14,"i",19),r.Ob(),r.Ob(),r.Pb(15,"div",17),r.Pb(16,"button",20),r.Wb("click",(function(){r.qc(b);var e=t.$implicit,o=r.Yb(),a=r.nc(27);return o.openModal(a,e)})),r.Kb(17,"i",21),r.Ob(),r.Ob(),r.Ob(),r.Ob(),r.Ob()}if(2&e){var o=t.$implicit,a=t.index;r.xb(2),r.Bc(a+1),r.xb(2),r.Bc(o.name),r.xb(2),r.Bc(r.bc(7,4,o.due_time,"yyyy-MM-dd HH:mm")),r.xb(3),r.Bc(o.employees_notified?"\u0414\u0430":"\u041d\u0435\u0442")}}function O(e,t){1&e&&(r.Pb(0,"div",48),r.Ac(1,"\u042d\u0442\u043e \u043f\u043e\u043b\u0435 \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e"),r.Ob())}function p(e,t){1&e&&(r.Pb(0,"div",48),r.Ac(1,"\u042d\u0442\u043e \u043f\u043e\u043b\u0435 \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e"),r.Ob())}function P(e,t){if(1&e&&(r.Pb(0,"div",49),r.Kb(1,"img",50),r.Pb(2,"span"),r.Ac(3),r.Ob(),r.Ob()),2&e){var b=t.$implicit;r.xb(1),r.fc("src",b.data.photo||"assets/img/no-photo.png",r.sc),r.xb(2),r.Cc(" ",b.data.full_name," ")}}function h(e,t){1&e&&r.Ac(0," \u041d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e ")}function y(e,t){if(1&e){var b=r.Qb();r.Pb(0,"div",22),r.Pb(1,"div",23),r.Pb(2,"h4",24),r.Ac(3),r.Ob(),r.Pb(4,"button",25),r.Wb("click",(function(){return r.qc(b),r.Yb(),r.nc(23).hide()})),r.Pb(5,"span",26),r.Ac(6,"\xd7"),r.Ob(),r.Ob(),r.Ob(),r.Pb(7,"div",27),r.Pb(8,"form",28),r.Pb(9,"div",29),r.Pb(10,"label",30),r.Ac(11,"\u0417\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a"),r.Ob(),r.Pb(12,"div",31),r.Kb(13,"input",32),r.yc(14,O,2,0,"div",33),r.Ob(),r.Ob(),r.Pb(15,"div",29),r.Pb(16,"label",30),r.Ac(17,"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435"),r.Ob(),r.Pb(18,"div",31),r.Kb(19,"input",34),r.yc(20,p,2,0,"div",33),r.Ob(),r.Ob(),r.Pb(21,"div",29),r.Pb(22,"label",30),r.Ac(23,"\u0414\u044d\u0434\u0434\u0430\u0439\u043d"),r.Ob(),r.Pb(24,"div",31),r.Pb(25,"div",16),r.Pb(26,"div",35),r.Kb(27,"input",36,37),r.Ob(),r.Pb(29,"div",38),r.Kb(30,"timepicker",39),r.Ob(),r.Ob(),r.Ob(),r.Ob(),r.Pb(31,"div",29),r.Pb(32,"label",30),r.Ac(33,"\u0412\u0441\u0435 \u0441\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u0438"),r.Ob(),r.Pb(34,"div",31),r.Pb(35,"div",40),r.Pb(36,"label"),r.Kb(37,"input",41),r.Kb(38,"span",42),r.Ob(),r.Ob(),r.Ob(),r.Ob(),r.Pb(39,"div",29),r.Pb(40,"label",30),r.Ac(41,"\u0412\u044b\u0431\u0440\u0430\u0442\u044c \u0441\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u043e\u0432"),r.Ob(),r.Pb(42,"div",31),r.Pb(43,"ngx-select",43),r.Wb("data",(function(){return r.qc(b),r.Yb().value}))("data",(function(e){return r.qc(b),r.Yb().refreshValue(e)}))("selected",(function(e){return r.qc(b),r.Yb().selected(e)}))("removed",(function(e){return r.qc(b),r.Yb().removed(e)})),r.yc(44,P,4,2,"ng-template",44),r.yc(45,h,1,0,"ng-template",45),r.Ob(),r.Ob(),r.Ob(),r.Ob(),r.Ob(),r.Pb(46,"div",46),r.Pb(47,"button",47),r.Wb("click",(function(){return r.qc(b),r.Yb(),r.nc(23).hide()})),r.Ac(48,"\u0417\u0430\u043a\u0440\u044b\u0442\u044c"),r.Ob(),r.Pb(49,"button",3),r.Wb("click",(function(e){r.qc(b);var t=r.Yb();return t.submitForm(e,t.valForm.value)})),r.Ac(50,"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"),r.Ob(),r.Ob(),r.Ob()}if(2&e){var o=r.Yb();r.xb(3),r.Bc(o.activeTask.name),r.xb(5),r.ec("formGroup",o.valForm),r.xb(6),r.ec("ngIf",o.valForm.controls.name.hasError("required")&&(o.valForm.controls.name.dirty||o.valForm.controls.name.touched)),r.xb(6),r.ec("ngIf",o.valForm.controls.text.hasError("required")&&(o.valForm.controls.text.dirty||o.valForm.controls.text.touched)),r.xb(7),r.ec("bsConfig",o.bsConfig),r.xb(3),r.ec("mousewheel",!0)("showMeridian",!1)("showSpinners",!1),r.xb(13),r.ec("multiple",!0)("items",o.employees)}}function g(e,t){if(1&e){var b=r.Qb();r.Pb(0,"div",22),r.Pb(1,"div",23),r.Pb(2,"h4",24),r.Ac(3),r.Ob(),r.Pb(4,"button",25),r.Wb("click",(function(){return r.qc(b),r.Yb(),r.nc(27).hide()})),r.Pb(5,"span",26),r.Ac(6,"\xd7"),r.Ob(),r.Ob(),r.Ob(),r.Pb(7,"div",27),r.Pb(8,"div",51),r.Pb(9,"table",52),r.Pb(10,"tbody"),r.Pb(11,"tr"),r.Pb(12,"td"),r.Pb(13,"strong"),r.Ac(14,"\u0414\u044d\u0434\u043b\u0430\u0439\u043d"),r.Ob(),r.Ob(),r.Pb(15,"td"),r.Ac(16),r.Zb(17,"date"),r.Ob(),r.Ob(),r.Pb(18,"tr"),r.Pb(19,"td"),r.Pb(20,"strong"),r.Ac(21,"\u0417\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a"),r.Ob(),r.Ob(),r.Pb(22,"td"),r.Ac(23),r.Ob(),r.Ob(),r.Pb(24,"tr"),r.Pb(25,"td"),r.Pb(26,"strong"),r.Ac(27,"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435"),r.Ob(),r.Ob(),r.Pb(28,"td"),r.Ac(29),r.Ob(),r.Ob(),r.Pb(30,"tr"),r.Pb(31,"td"),r.Pb(32,"strong"),r.Ac(33,"\u0421\u043e\u0437\u0434\u0430\u043b"),r.Ob(),r.Ob(),r.Pb(34,"td"),r.Ac(35),r.Ob(),r.Ob(),r.Ob(),r.Ob(),r.Ob(),r.Ob(),r.Pb(36,"div",46),r.Pb(37,"button",47),r.Wb("click",(function(){return r.qc(b),r.Yb(),r.nc(27).hide()})),r.Ac(38,"\u0417\u0430\u043a\u0440\u044b\u0442\u044c"),r.Ob(),r.Ob(),r.Ob()}if(2&e){var o=r.Yb();r.xb(3),r.Bc(o.activeTask.name),r.xb(13),r.Bc(r.bc(17,5,o.activeTask.due_time,"yyyy-MM-dd HH:mm")),r.xb(7),r.Bc(o.activeTask.name),r.xb(6),r.Bc(o.activeTask.text),r.xb(6),r.Bc(o.activeTask.employee_name)}}var k,x,w=((k=function(){function b(t,o){e(this,b),this.dataService=t,this.bsValue=new Date,this.maxDate=new Date,this.bsConfig={},this.mytime=new Date,this.value={},this.valForm=o.group({name:[null,l.s.required],employees_to_notify:[null,l.s.required],all_employees:[!1],text:[null],date:[new Date,l.s.required],time:[new Date,l.s.required]})}var o,a,n;return o=b,(a=[{key:"ngOnInit",value:function(){var e=this;this.dataService.getTasks().subscribe((function(t){e.tasks=t.results})),this.dataService.getEmployees().subscribe((function(t){e.employees=t.results}))}},{key:"openModal",value:function(e,t){this.activeTask=t,this.modal=e;var b=new Date(Date.parse(t.date_time));t.date_time||(b=new Date),console.log(b);var o={date:b,time:b};for(var a in this.valForm.controls)"date"!=a&&"time"!=a&&(o[a]=t[a]);console.log(o),this.activeTask.id||(o={all_employees:!1,name:"",employees_to_notify:[],text:"",date:new Date,time:new Date}),this.valForm.setValue(o),e.show()}},{key:"submitForm",value:function(e,t){var b=this;for(var o in e.preventDefault(),this.valForm.controls)this.valForm.controls[o].markAsTouched();var a=t.date;a.setHours(t.time.getHours()),a.setMinutes(t.time.getMinutes()),t.due_time=a,(this.activeTask.id?this.dataService.updateTaskData(t,this.activeTask.id):this.dataService.createTaskData(t)).subscribe((function(e){b.activeTask=e,b.dataService.getTasks().subscribe((function(e){b.tasks=e.results,b.modal.hide()}))}))}},{key:"selected",value:function(e){console.log("Selected value is: ",e)}},{key:"removed",value:function(e){console.log("Removed value is: ",e)}},{key:"typed",value:function(e){console.log("New search input: ",e)}},{key:"refreshValue",value:function(e){this.value=e,console.log(this.value)}}])&&t(o.prototype,a),n&&t(o,n),b}()).\u0275fac=function(e){return new(e||k)(r.Jb(d.a),r.Jb(l.c))},k.\u0275cmp=r.Db({type:k,selectors:[["app-tasks"]],decls:30,vars:3,consts:[[1,"content-heading"],[1,"nav","nav-pills","my-3"],[1,"ml-auto"],["type","button",1,"btn","btn-primary",3,"click"],[1,"card","card-default"],[1,"table-responsive"],["id","table-ext-1",1,"table","table-bordered","table-hover"],["checkAll",""],[4,"ngFor","ngForOf"],["bsModal","","tabindex","-1","role","dialog","aria-labelledby","mySmallModalLabel","aria-hidden","true",1,"modal","fade"],["detailModal","bs-modal"],[1,"modal-dialog","modal-lg"],["class","modal-content",4,"ngIf"],["bsModal","","tabindex","-1","role","dialog","aria-labelledby","viewModal","aria-hidden","true",1,"modal","fade"],["viewModal","bs-modal"],[1,"text-center","view-button"],[1,"row"],[1,"col-md-5"],["type","button",1,"btn","btn-warning","btn-sm",3,"click"],["aria-hidden","true",1,"fa","icon-pencil","fa-lg"],["type","button",1,"btn","btn-secondary","btn-sm",3,"click"],["aria-hidden","true",1,"fa","fa-eye","fa-lg"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],["role","form","name","loginForm","novalidate","",1,"form-validate","mb-3",3,"formGroup"],[1,"form-group","row"],[1,"text-bold","col-xl-2","col-md-3","col-4","col-form-label","text-right"],[1,"col-xl-10","col-md-9","col-8"],["type","text","name","name","placeholder","\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0437\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a","autocomplete","off","formControlName","name",1,"form-control"],["class","text-danger",4,"ngIf"],["type","text","name","text","placeholder","\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043e\u043f\u0438\u0441\u0430\u043d\u0438\u0435","autocomplete","off","formControlName","text",1,"form-control"],[1,"col-md-8","mb-3"],["type","text","bsDatepicker","","formControlName","date","format","yyyy-mm-dd","name","dp-basic",1,"form-control",3,"bsConfig"],["dp","bsDatepicker"],[1,"col-md-4","mb-3"],["formControlName","time","name","timepicker-wheel",3,"mousewheel","showMeridian","showSpinners"],[1,"checkbox","c-checkbox"],["type","checkbox","formControlName","all_employees"],[1,"fa","fa-check"],["placeholder","\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0441\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u043e\u0432","formControlName","employees_to_notify",3,"multiple","items","data","selected","removed"],["ngx-select-option-selected","","ngx-select-option",""],["ngx-select-option-not-found",""],[1,"modal-footer"],["type","button",1,"btn","btn-secondary",3,"click"],[1,"text-danger"],[1,"select-employee-item"],["alt","Image",1,"circle","thumb24",3,"src"],[1,"card","b"],[1,"table"]],template:function(e,t){if(1&e){var b=r.Qb();r.Pb(0,"div",0),r.Ac(1,"\u0417\u0430\u0434\u0430\u0447\u0438"),r.Ob(),r.Pb(2,"ul",1),r.Pb(3,"li",2),r.Pb(4,"button",3),r.Wb("click",(function(){r.qc(b);var e=r.nc(23);return t.openModal(e,{})})),r.Ac(5,"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c"),r.Ob(),r.Ob(),r.Ob(),r.Pb(6,"div",4),r.Pb(7,"div",5),r.Pb(8,"table",6),r.Pb(9,"thead"),r.Pb(10,"tr"),r.Pb(11,"th"),r.Ac(12,"#"),r.Ob(),r.Pb(13,"th"),r.Ac(14,"\u0417\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a"),r.Ob(),r.Pb(15,"th"),r.Ac(16,"\u0414\u044d\u0434\u043b\u0430\u0439\u043d"),r.Ob(),r.Pb(17,"th"),r.Ac(18,"\u0421\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u0438 \u0443\u0432\u0435\u0434\u043e\u043c\u043b\u0435\u043d\u044b"),r.Ob(),r.Kb(19,"th",7),r.Ob(),r.Ob(),r.Pb(20,"tbody"),r.yc(21,f,18,7,"tr",8),r.Ob(),r.Ob(),r.Ob(),r.Ob(),r.Pb(22,"div",9,10),r.Pb(24,"div",11),r.yc(25,y,51,10,"div",12),r.Ob(),r.Ob(),r.Pb(26,"div",13,14),r.Pb(28,"div",11),r.yc(29,g,39,8,"div",12),r.Ob(),r.Ob()}2&e&&(r.xb(21),r.ec("ngForOf",t.tasks),r.xb(4),r.ec("ngIf",t.activeTask),r.xb(4),r.ec("ngIf",t.activeTask))},directives:[s.a,n.l,m.a,n.m,l.u,l.k,l.e,l.b,l.j,l.d,u.e,u.a,v.a,l.a,c.a,c.e,c.c,c.d],pipes:[n.e],styles:[".table[_ngcontent-%COMP%] > tbody[_ngcontent-%COMP%] > tr[_ngcontent-%COMP%] > td[_ngcontent-%COMP%]{vertical-align:middle}.view-button[_ngcontent-%COMP%]{width:7%}.select-employee-item[_ngcontent-%COMP%]{display:flex;align-items:center;flex-wrap:wrap}"]}),k),A=a("PCNd"),M=[{path:"",component:w}],_={optionValueField:"id",optionTextField:"name",keepSelectedItems:!1},F=((x=function t(){e(this,t)}).\u0275mod=r.Hb({type:x}),x.\u0275inj=r.Gb({factory:function(e){return new(e||x)},imports:[[A.a,n.c,i.e.forChild(M),c.b.forRoot(_)],i.e]}),x)}}])}();