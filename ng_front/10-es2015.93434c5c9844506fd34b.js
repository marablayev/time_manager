(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{"+6kS":function(t,e,o){"use strict";o.r(e),o.d(e,"StatsModule",(function(){return _}));var b=o("ofXK"),l=o("tyNb"),i=o("3Pt+"),n=o("wd/R"),c=o("fXoL"),a=o("h5qW"),r=o("Mfq2"),d=o("KI+Z"),s=o("K3ix"),m=o("yyhP"),u=o("hzby");const p=function(t,e){return{"danger-diff":t,"success-diff":e}};function f(t,e){if(1&t){const t=c.Qb();c.Pb(0,"tr"),c.Pb(1,"td"),c.Ac(2),c.Ob(),c.Pb(3,"td"),c.Pb(4,"div",26),c.Kb(5,"img",27),c.Ob(),c.Ob(),c.Pb(6,"td"),c.Ac(7),c.Ob(),c.Pb(8,"td"),c.Ac(9),c.Ob(),c.Pb(10,"td"),c.Ac(11),c.Ob(),c.Pb(12,"td"),c.Ac(13),c.Ob(),c.Pb(14,"td",28),c.Pb(15,"progressbar",29),c.Pb(16,"i"),c.Ac(17),c.Ob(),c.Ob(),c.Ob(),c.Pb(18,"td",28),c.Pb(19,"span",30),c.Ac(20),c.Zb(21,"number"),c.Ob(),c.Ob(),c.Pb(22,"td",31),c.Pb(23,"div",32),c.Pb(24,"div",33),c.Pb(25,"button",34),c.Wb("click",(function(){c.qc(t);const o=e.$implicit,b=c.Yb(),l=c.nc(57);return b.openModal(l,o)})),c.Kb(26,"i",35),c.Ob(),c.Ob(),c.Pb(27,"div",33),c.Pb(28,"button",36),c.Wb("click",(function(){c.qc(t);const o=e.$implicit,b=c.Yb(),l=c.nc(53);return b.openModal(l,o)})),c.Kb(29,"i",37),c.Ob(),c.Ob(),c.Ob(),c.Ob(),c.Ob()}if(2&t){const t=e.$implicit,o=e.index;c.xb(2),c.Bc(o+1),c.xb(3),c.fc("src",t.photo||"assets/img/no-photo.png",c.sc),c.xb(2),c.Bc(t.full_name),c.xb(2),c.Bc(t.phone),c.xb(2),c.Bc(t.company),c.xb(2),c.Bc(t.occupation),c.xb(2),c.fc("max",null==t.time_stats?null:t.time_stats.total_hours_for_month),c.fc("value",null==t.time_stats?null:t.time_stats.total_worked_hours),c.xb(2),c.Dc("",null==t.time_stats?null:t.time_stats.total_worked_hours," / ",null==t.time_stats?null:t.time_stats.total_hours_for_month,""),c.xb(2),c.ec("ngClass",c.ic(15,p,(null==t.time_stats?null:t.time_stats.diff_hours)<0,(null==t.time_stats?null:t.time_stats.diff_hours)>0)),c.xb(1),c.Cc(" ",c.bc(21,12,null==t.time_stats?null:t.time_stats.diff_hours,".2-2")," ")}}function O(t,e){if(1&t){const t=c.Qb();c.Pb(0,"div",38),c.Pb(1,"div",39),c.Pb(2,"h4",40),c.Ac(3),c.Ob(),c.Pb(4,"button",41),c.Wb("click",(function(){return c.qc(t),c.Yb(),c.nc(53).hide()})),c.Pb(5,"span",42),c.Ac(6,"\xd7"),c.Ob(),c.Ob(),c.Ob(),c.Pb(7,"div",43),c.Pb(8,"div",44),c.Pb(9,"div",45),c.Pb(10,"div",32),c.Pb(11,"div",46),c.Kb(12,"img",47),c.Ob(),c.Pb(13,"div",48),c.Pb(14,"h3",49),c.Ac(15),c.Ob(),c.Pb(16,"ul",50),c.Pb(17,"li",51),c.Kb(18,"em",52),c.Ac(19),c.Ob(),c.Pb(20,"li",51),c.Kb(21,"em",53),c.Ac(22),c.Ob(),c.Pb(23,"li",51),c.Kb(24,"em",54),c.Ac(25),c.Ob(),c.Pb(26,"li"),c.Pb(27,"progressbar",55),c.Pb(28,"i"),c.Ac(29),c.Ob(),c.Ob(),c.Ob(),c.Ob(),c.Ob(),c.Ob(),c.Ob(),c.Pb(30,"div",56),c.Pb(31,"div",57),c.Pb(32,"div",58),c.Pb(33,"p",59),c.Ac(34),c.Ob(),c.Pb(35,"p",60),c.Ac(36,"\u041e\u0431\u0449\u0435\u0435 \u043a\u043e\u043b-\u0432\u043e \u0447\u0430\u0441\u043e\u0432"),c.Ob(),c.Ob(),c.Pb(37,"div",58),c.Pb(38,"p",59),c.Ac(39),c.Ob(),c.Pb(40,"p",60),c.Ac(41,"\u041e\u0442\u0440\u0430\u0431\u043e\u0442\u0430\u043d\u043e"),c.Ob(),c.Ob(),c.Pb(42,"div",58),c.Pb(43,"p",59),c.Ac(44),c.Zb(45,"number"),c.Ob(),c.Pb(46,"p",60),c.Ac(47,"\u0420\u0430\u0437\u043d\u0438\u0446\u0430"),c.Ob(),c.Ob(),c.Ob(),c.Ob(),c.Ob(),c.Ob(),c.Ob()}if(2&t){const t=c.Yb();c.xb(3),c.Bc(t.activeEmployee.full_name),c.xb(9),c.fc("src",t.activeEmployee.photo||"assets/img/no-photo.png",c.sc),c.xb(3),c.Bc(t.activeEmployee.full_name),c.xb(4),c.Cc(" ",t.activeEmployee.company,""),c.xb(3),c.Cc(" ",t.activeEmployee.birthday,""),c.xb(3),c.Cc(" ",t.activeEmployee.phone,""),c.xb(2),c.fc("max",null==t.activeEmployee.time_stats?null:t.activeEmployee.time_stats.total_hours_for_month),c.fc("value",null==t.activeEmployee.time_stats?null:t.activeEmployee.time_stats.total_worked_hours),c.xb(2),c.Dc("",null==t.activeEmployee.time_stats?null:t.activeEmployee.time_stats.total_worked_hours," / ",null==t.activeEmployee.time_stats?null:t.activeEmployee.time_stats.total_hours_for_month,""),c.xb(5),c.Bc(null==t.activeEmployee.time_stats?null:t.activeEmployee.time_stats.total_hours_for_month),c.xb(5),c.Bc(null==t.activeEmployee.time_stats?null:t.activeEmployee.time_stats.total_worked_hours),c.xb(5),c.Bc(c.bc(45,13,null==t.activeEmployee.time_stats?null:t.activeEmployee.time_stats.diff_hours,".2-2"))}}function P(t,e){1&t&&(c.Pb(0,"div",83),c.Ac(1,"\u042d\u0442\u043e \u043f\u043e\u043b\u0435 \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e"),c.Ob())}function h(t,e){1&t&&(c.Pb(0,"div",83),c.Ac(1,"\u042d\u0442\u043e \u043f\u043e\u043b\u0435 \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e"),c.Ob())}function v(t,e){if(1&t){const t=c.Qb();c.Pb(0,"div",38),c.Pb(1,"div",39),c.Pb(2,"h4",40),c.Ac(3),c.Ob(),c.Pb(4,"button",41),c.Wb("click",(function(){return c.qc(t),c.Yb(),c.nc(57).hide()})),c.Pb(5,"span",42),c.Ac(6,"\xd7"),c.Ob(),c.Ob(),c.Ob(),c.Pb(7,"div",43),c.Pb(8,"form",61),c.Wb("submit",(function(e){c.qc(t);const o=c.Yb();return o.submitForm(e,o.profileForm.value)})),c.Pb(9,"div",62),c.Pb(10,"label",63),c.Ac(11,"\u0424\u0418\u041e"),c.Ob(),c.Pb(12,"div",64),c.Kb(13,"input",65),c.Ob(),c.yc(14,P,2,0,"div",66),c.Ob(),c.Pb(15,"div",62),c.Pb(16,"label",67),c.Ac(17,"Email"),c.Ob(),c.Pb(18,"div",64),c.Kb(19,"input",68),c.Ob(),c.Ob(),c.Pb(20,"div",62),c.Pb(21,"label",69),c.Ac(22,"\u0422\u0435\u043b\u0435\u0444\u043e\u043d"),c.Ob(),c.Pb(23,"div",64),c.Kb(24,"input",70),c.Ob(),c.yc(25,h,2,0,"div",66),c.Ob(),c.Pb(26,"div",62),c.Pb(27,"label",71),c.Ac(28,"\u0414\u0430\u0442\u0430 \u0440\u043e\u0436\u0434\u0435\u043d\u0438\u044f"),c.Ob(),c.Pb(29,"div",64),c.Kb(30,"input",72,73),c.Ob(),c.Ob(),c.Pb(32,"div",62),c.Pb(33,"label",74),c.Ac(34,"\u041e \u0441\u0435\u0431\u0435"),c.Ob(),c.Pb(35,"div",64),c.Kb(36,"textarea",75),c.Ob(),c.Ob(),c.Pb(37,"div",62),c.Pb(38,"label",76),c.Ac(39,"\u041a\u043e\u043c\u043f\u0430\u043d\u0438\u044f"),c.Ob(),c.Pb(40,"div",64),c.Kb(41,"input",77),c.Ob(),c.Ob(),c.Pb(42,"div",62),c.Pb(43,"label",78),c.Ac(44,"\u0414\u043e\u043b\u0436\u043d\u043e\u0441\u0442\u044c"),c.Ob(),c.Pb(45,"div",64),c.Kb(46,"input",79),c.Ob(),c.Ob(),c.Pb(47,"div",32),c.Kb(48,"div",80),c.Pb(49,"div",81),c.Pb(50,"button",82),c.Ac(51,"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"),c.Ob(),c.Ob(),c.Ob(),c.Ob(),c.Ob(),c.Ob()}if(2&t){const t=c.Yb();c.xb(3),c.Bc(t.activeEmployee.full_name),c.xb(5),c.ec("formGroup",t.profileForm),c.xb(6),c.ec("ngIf",t.profileForm.controls.full_name.hasError("required")&&(t.profileForm.controls.full_name.dirty||t.profileForm.controls.full_name.touched)),c.xb(11),c.ec("ngIf",t.profileForm.controls.phone.hasError("required")&&(t.profileForm.controls.phone.dirty||t.profileForm.controls.phone.touched)),c.xb(5),c.ec("bsConfig",t.bsConfig),c.xb(11),c.ec("disabled",!0)}}let g=(()=>{class t{constructor(t,e){this.dataService=t,this.employees=[],this.bsValue=new Date,this.maxDate=new Date,this.bsConfig={},this.profileForm=e.group({full_name:[null,i.s.required],phone:[null,i.s.required],birthday:[null],bio:[null],occupation:[null],email:[""]})}ngOnInit(){this.getEmployees()}getEmployees(){this.dataService.getEmployees().subscribe(t=>{this.employees=t.results})}openModal(t,e){this.activeEmployee=e;let o={full_name:e.full_name,phone:e.phone,birthday:new Date(e.birthday),bio:e.bio,occupation:e.occupation,email:e.email||""};this.profileForm.setValue(o),t.show(),this.activeModal=t}exportData(){this.dataService.exportEmployeeData().subscribe(t=>{new Blob([t],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"});let e=window.URL.createObjectURL(t),o=document.createElement("a");o.href=e,o.download="employees.xlsx",o.click()})}submitForm(t,e){t.preventDefault();for(let o in this.profileForm.controls)this.profileForm.controls[o].markAsTouched();e.birthday=n(e.birthday).format("YYYY-MM-DD"),this.profileForm.valid&&(console.log("Valid!"),console.log(e),this.dataService.updateEmployeeData(e,this.activeEmployee.id).subscribe(t=>{this.getEmployees(),this.activeModal.hide()},t=>{this.error=t.error.detail}))}}return t.\u0275fac=function(e){return new(e||t)(c.Jb(a.a),c.Jb(i.c))},t.\u0275cmp=c.Db({type:t,selectors:[["app-stats"]],decls:60,vars:3,consts:[[1,"content-heading"],[1,"nav","nav-pills","my-3"],[1,"ml-auto"],[1,"input-group"],["id","inputGroupSelect04",1,"custom-select"],["value","","disabled","","selected",""],["value","1"],["value","2"],["value","3"],["type","text","placeholder","Search",1,"form-control"],[1,"input-group-append"],["type","Search",1,"btn","btn-secondary"],["type","button",1,"btn","btn-primary",3,"click"],[1,"card","card-default"],[1,"table-responsive"],["id","table-ext-1",1,"table","table-bordered","table-hover"],["tooltip","\u041a\u043e\u043b-\u0432\u043e \u043e\u0442\u0440\u0430\u0431\u043e\u0442\u0430\u043d\u043d\u044b\u0445/\u041e\u0431\u0449\u0435\u0435 \u043a\u043e\u043b-\u0432\u043e \u0447\u0430\u0441\u043e\u0432 \u0432 \u043c\u0435\u0441\u044f\u0446",1,"fa","fa-question-circle"],["tooltip","\u041a\u043e\u043b-\u0432\u043e \u0447\u0430\u0441\u043e\u0432 \u043d\u0430 \u0434\u0430\u043d\u043d\u044b\u0439 \u043c\u043e\u043c\u0435\u043d\u0442",1,"fa","fa-question-circle"],["checkAll",""],[4,"ngFor","ngForOf"],["bsModal","","tabindex","-1","role","dialog","aria-labelledby","mySmallModalLabel","aria-hidden","true",1,"modal","fade"],["detailModal","bs-modal"],[1,"modal-dialog","modal-lg"],["class","modal-content",4,"ngIf"],["bsModal","","tabindex","-1","role","dialog","aria-labelledby","profileModal","aria-hidden","true",1,"modal","fade"],["profileModal","bs-modal"],[1,"media"],["alt","Image",1,"img-fluid","circle",3,"src"],[1,"diff-hours","text-center"],["type","warning",1,"progress-striped","active","fixed-height",3,"max","value"],[3,"ngClass"],[1,"text-center","view-button"],[1,"row"],[1,"col-md-5"],["type","button",1,"btn","btn-warning","btn-sm",3,"click"],["aria-hidden","true",1,"fa","icon-pencil","fa-lg"],["type","button",1,"btn","btn-secondary","btn-sm",3,"click"],["aria-hidden","true",1,"fa","fa-eye","fa-lg"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"card"],[1,"card-body"],[1,"col-6","text-center"],["alt","Image",1,"circle","thumb96",3,"src"],[1,"col-6"],[1,"mt-0"],[1,"list-unstyled","mb-0"],[1,"mb-1"],[1,"fa","fa-building","fa-lg"],[1,"fa","fa-birthday-cake","fa-lg"],[1,"fa","fa-phone-square","fa-lg"],["type","info",1,"progress-striped","active","fixed-height",3,"max","value"],[1,"card-body","bg-inverse"],[1,"row","text-center"],[1,"col-4"],[1,"m-0","h3"],[1,"m-0","text-muted"],["role","form","name","profileForm",1,"form-horizontal",3,"formGroup","submit"],[1,"form-group","row"],["for","inputContact1",1,"text-bold","col-xl-2","col-md-3","col-4","col-form-label","text-right"],[1,"col-xl-10","col-md-9","col-8"],["id","inputContact1","type","text","name","full_name","placeholder","\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0424\u0418\u041e","autocomplete","off","formControlName","full_name",1,"form-control"],["class","text-danger",4,"ngIf"],["for","inputContact2",1,"text-bold","col-xl-2","col-md-3","col-4","col-form-label","text-right"],["id","inputContact2","type","text","name","email","placeholder","\u0412\u0432\u0435\u0434\u0438\u0442\u0435 Email","autocomplete","off","formControlName","email",1,"form-control"],["for","inputContact3",1,"text-bold","col-xl-2","col-md-3","col-4","col-form-label","text-right"],["id","inputContact3","type","text","name","phone","placeholder","\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u041d\u043e\u043c\u0435\u0440 \u0442\u0435\u043b\u0435\u0444\u043e\u043d\u0430","autocomplete","off","formControlName","phone",1,"form-control"],["for","inputContact5",1,"text-bold","col-xl-2","col-md-3","col-4","col-form-label","text-right"],["type","text","bsDatepicker","","formControlName","birthday","name","dp-basic",1,"form-control",3,"bsConfig"],["dp","bsDatepicker"],["for","inputContact6",1,"text-bold","col-xl-2","col-md-3","col-4","col-form-label","text-right"],["id","inputContact6","row","4","name","bio","placeholder","\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0418\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044e \u043e \u0441\u0435\u0431\u0435","autocomplete","off","formControlName","bio",1,"form-control"],["for","inputContact7",1,"text-bold","col-xl-2","col-md-3","col-4","col-form-label","text-right"],["id","inputContact7","type","text",1,"form-control",3,"disabled"],["for","inputContact8",1,"text-bold","col-xl-2","col-md-3","col-4","col-form-label","text-right"],["id","inputContact8","type","text","name","occupation","placeholder","\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0414\u043e\u043b\u0436\u043d\u043e\u0441\u0442\u044c","autocomplete","off","formControlName","occupation",1,"form-control"],[1,"col-md-10"],[1,"col-md-1"],["type","submit",1,"btn","btn-info","ml-auto"],[1,"text-danger"]],template:function(t,e){1&t&&(c.Pb(0,"div",0),c.Ac(1,"\u0421\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u0438"),c.Ob(),c.Pb(2,"ul",1),c.Pb(3,"li"),c.Pb(4,"div",2),c.Pb(5,"div",3),c.Pb(6,"select",4),c.Pb(7,"option",5),c.Ac(8,"\u041a\u043e\u043c\u043f\u0430\u043d\u0438\u044f"),c.Ob(),c.Pb(9,"option",6),c.Ac(10,"Airshop"),c.Ob(),c.Pb(11,"option",7),c.Ac(12,"Globerce"),c.Ob(),c.Pb(13,"option",8),c.Ac(14,"Hive"),c.Ob(),c.Ob(),c.Ob(),c.Ob(),c.Ob(),c.Pb(15,"li"),c.Pb(16,"div"),c.Pb(17,"div",3),c.Kb(18,"input",9),c.Pb(19,"div",10),c.Pb(20,"button",11),c.Ac(21,"Button"),c.Ob(),c.Ob(),c.Ob(),c.Ob(),c.Ob(),c.Pb(22,"li",2),c.Pb(23,"button",12),c.Wb("click",(function(){return e.exportData()})),c.Ac(24,"\u042d\u043a\u0441\u043f\u043e\u0440\u0442"),c.Ob(),c.Ob(),c.Ob(),c.Pb(25,"div",13),c.Pb(26,"div",14),c.Pb(27,"table",15),c.Pb(28,"thead"),c.Pb(29,"tr"),c.Pb(30,"th"),c.Ac(31,"#"),c.Ob(),c.Pb(32,"th"),c.Ac(33,"\u0424\u043e\u0442\u043e"),c.Ob(),c.Pb(34,"th"),c.Ac(35,"\u0424\u0418\u041e"),c.Ob(),c.Pb(36,"th"),c.Ac(37,"\u0422\u0435\u043b\u0435\u0444\u043e\u043d"),c.Ob(),c.Pb(38,"th"),c.Ac(39,"\u041a\u043e\u043c\u043f\u0430\u043d\u0438\u044f"),c.Ob(),c.Pb(40,"th"),c.Ac(41,"\u0414\u043e\u043b\u0436\u043d\u043e\u0441\u0442\u044c"),c.Ob(),c.Pb(42,"th"),c.Ac(43," \u041e\u0442\u0440\u0430\u0431\u043e\u0442\u0430\u043d\u043e "),c.Kb(44,"em",16),c.Ob(),c.Pb(45,"th"),c.Ac(46," \u041f\u0435\u0440\u0435\u0440\u0430\u0431\u043e\u0442\u043a\u0438-\u041d\u0435\u0434\u043e\u0440\u0430\u0431\u043e\u0442\u043a\u0438 "),c.Kb(47,"em",17),c.Ob(),c.Pb(48,"th",18),c.Ac(49," \u0414\u0435\u0439\u0441\u0442\u0432\u0438\u0435 "),c.Ob(),c.Ob(),c.Ob(),c.Pb(50,"tbody"),c.yc(51,f,30,18,"tr",19),c.Ob(),c.Ob(),c.Ob(),c.Ob(),c.Pb(52,"div",20,21),c.Pb(54,"div",22),c.yc(55,O,48,16,"div",23),c.Ob(),c.Ob(),c.Pb(56,"div",24,25),c.Pb(58,"div",22),c.yc(59,v,52,6,"div",23),c.Ob(),c.Ob()),2&t&&(c.xb(51),c.ec("ngForOf",e.employees),c.xb(4),c.ec("ngIf",e.activeEmployee),c.xb(4),c.ec("ngIf",e.activeEmployee))},directives:[i.n,i.t,r.a,d.a,b.l,s.a,b.m,m.a,b.k,i.u,i.k,i.e,i.b,i.j,i.d,u.e,u.a],pipes:[b.f],styles:[".table[_ngcontent-%COMP%] > tbody[_ngcontent-%COMP%] > tr[_ngcontent-%COMP%] > td[_ngcontent-%COMP%] > .media[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:36px;height:36px;margin:0 auto}.table[_ngcontent-%COMP%] > tbody[_ngcontent-%COMP%] > tr[_ngcontent-%COMP%] > td[_ngcontent-%COMP%]{vertical-align:middle}.diff-hours[_ngcontent-%COMP%]{width:10%}.danger-diff[_ngcontent-%COMP%]{background-color:#f05050}.danger-diff[_ngcontent-%COMP%], .success-diff[_ngcontent-%COMP%]{color:#fff;padding:4% 30%;border-radius:23%}.success-diff[_ngcontent-%COMP%]{background-color:#27c24c}.view-button[_ngcontent-%COMP%]{width:7%}.view-button[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]:hover{-webkit-text-decoration:auto;text-decoration:auto;color:#fff}.view-eye-button[_ngcontent-%COMP%]{font-size:25px;background-color:#5d9cec;padding:7px;border-radius:12%;color:#fff}progressbar.fixed-height[_ngcontent-%COMP%]{height:25px}"]}),t})();var x=o("PCNd");const y=[{path:"",component:g}];let _=(()=>{class t{}return t.\u0275mod=c.Hb({type:t}),t.\u0275inj=c.Gb({factory:function(e){return new(e||t)},imports:[[b.c,l.e.forChild(y),x.a],l.e]}),t})()}}]);